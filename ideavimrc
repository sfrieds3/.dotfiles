set ignorecase
set smartcase
set incsearch
set hlsearch
set showmatch
set visualbell

set highlightedyank
set ideamarks
set ideajoin

" Same as default IDEA action, but only in insert mode. Enter block-visual
" mode in normal mode.
sethandler <C-v> i:ide

" https://github.com/JetBrains/ideavim/wiki/Emulated-plugins
Plug 'tpope/vim-surround'
Plug 'tpope/vim-commentary'
Plug 'vim-scripts/ReplaceWithRegister'
Plug 'vim-scripts/argtextobj.vim'
Plug 'kana/vim-textobj-entire'
Plug 'machakann/vim-highlightedyank'
Plug 'dbakker/vim-paragraph-motion'
Plug 'chrisbra/matchit'

nnoremap <C-l> :nohlsearch<CR>
nnoremap Y y$

nnoremap <leader>W :action EditorToggleShowWhitespaces<cr>

" easy system clipboard copy/paste
noremap <leader>y "*y
noremap <leader>yy "*Y
noremap <leader>p "*p
noremap <leader>P "*P

" Jump to next/previous error, show error description
" https://stackoverflow.com/questions/13346245/keyboard-shortcut-to-display-error-in-intellij
nnoremap <Leader>e :Action ShowErrorDescription<CR>
" Alt + F7 in idea.
" Find usages in file is Ctrl + F7.
" Alt + E, then F, then U (through the menu bar) also seems to work fine.
nnoremap <Leader>f :action FindUsages<CR>
nnoremap <Leader>F :action HighlightUsagesInFile<CR>

nnoremap <Leader>pt :action GoToSymbol<CR>
nnoremap <Leader>pr :action RecentFiles<CR>
nnoremap <Leader>pb :action Switcher<CR>
nnoremap <Leader>P :action SearchEverywhere<CR>

" use jetbrains implementation of back/forward
nnoremap <C-o> :action Back<CR>
nnoremap <C-i> :action Forward<CR>
nnoremap g<C-o> <C-o>
nnoremap g<C-i> <C-i>
nnoremap g; :action JumpToLastChange<CR>
nnoremap g, :action JumpToNextChange<CR>

" movements
nnoremap [c :action VcsShowPrevChangeMarker<CR>
nnoremap ]c :action VcsShowNextChangeMarker<CR>
nnoremap [m :action MethodUp<cr>
nnoremap ]m :action MethodDown<cr>
nnoremap [q :action PreviousOccurence<cr>
nnoremap ]q :action NextOccurence<cr>

" default to build in find
map / :action Find<CR>
map ? :action Find<CR>
nnoremap g/ /
nnoremap g? ?

map <leader>z <Action>(ToggleDistractionFreeMode)
