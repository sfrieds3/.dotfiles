set ignorecase
set smartcase
set incsearch
set hlsearch
set visualbell
set scrolloff=3
set showmode

" Same as default IDEA action, but only in insert mode. Enter block-visual
" mode in normal mode.
sethandler <C-v> i:ide
sethandler <C-q> n:ide
sethandler <C-\\> a:ide

" https://github.com/JetBrains/ideavim/wiki/Emulated-plugins
set easymotion
set surround
set commentary
set ReplaceWithRegister
set argtextobj
set highlightedyank
set vim-paragraph-motion
set matchit
set textobj-entire
set ideamarks
set ideajoin

nnoremap <C-l> :nohlsearch<CR>
nnoremap Y y$

" easy system clipboard copy/paste
noremap <leader>y "*y
noremap <leader>yy "*Y
noremap <leader>p "*p
noremap <leader>P "*P

" other actions
nnoremap <Space><Space> :action RecentFiles<CR>
nnoremap <Space><CR> :action SearchEverywhere<CR>
nnoremap <Space>a :action GotoAction<CR>
nnoremap <Space>sf :action GotoFile<CR>
nnoremap <Space>c :action GotoClass<CR>
nnoremap <Space>; :action FileStructurePopup<CR>
nnoremap <Space>: :action GotoSymbol<CR>
nnoremap <Space><Space> :action Switcher<CR>
nnoremap <Space>B :action ToggleLineBreakpoint<CR>
nnoremap <Space>q :action CloseContent<CR>
nnoremap <Space>Q :action ReopenClosedTab<CR>
nnoremap <leader>W :action EditorToggleShowWhitespaces<cr>
nnoremap <Leader>e :action ShowErrorDescription<CR>
nnoremap gr :action FindWordAtCaret

" code navigation
nnoremap <Space>] :action GotoImplementation<CR>
nnoremap <Space>[ :action GotoSuperMethod<CR>
nnoremap <Space>u :action FindUsages<CR>
nnoremap gR :action FindUsages<CR>
nnoremap <Space>/ :action FindUsagesInFile<CR>
nnoremap <Space>k :action HighlightUsagesInFile<CR>
nnoremap <Space>gt :action GotoTest<CR>

" refactor
nnoremap <Space>R :action RenameElement<CR>

" use jetbrains implementation of back/forward
nnoremap <C-o> :action Back<CR>
nnoremap <C-i> :action Forward<CR>
nnoremap g<C-o> <C-o>
nnoremap g<C-i> <C-i>
nnoremap g; :action JumpToLastChange<CR>
nnoremap g, :action JumpToNextChange<CR>

" movements
nnoremap [<space> O<esc>j
nnoremap ]<space> o<esc>k
nnoremap [c :action VcsShowPrevChangeMarker<CR>
nnoremap ]c :action VcsShowNextChangeMarker<CR>
nnoremap [m :action MethodUp<cr>
nnoremap ]m :action MethodDown<cr>
nnoremap [q :action PreviousOccurence<cr>
nnoremap ]q :action NextOccurence<cr>
nnoremap [t gT
nnoremap ]t gt

" window management
nmap <Space>ws :action SplitHorizontally<cr>
nmap <Space>wv :action SplitVertically<cr>
nmap <Space>wc :action Unsplit<cr>
nmap <Space>wC :action UnsplitAll<cr>
nmap <Space>wd :action OpenEditorInOppositeTabGroup<cr>

" easy use built in find
map g/ :action Find<CR>

map <leader>z :action ToggleDistractionFreeMode<CR>

" upcase last word in insert
inoremap <C-u> <Esc>gUiwea

" search for non-ASCII characters
nnoremap \a /[^\x00-\x7F]<CR>
